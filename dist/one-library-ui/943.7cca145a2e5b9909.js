"use strict";(self.webpackChunkOneLibraryUI=self.webpackChunkOneLibraryUI||[]).push([[943],{3943:(O,m,o)=>{o.r(m),o.d(m,{ServiceTypeFormDialogComponent:()=>n});var r=o(4006),u=o(5412),t=o(4650),_=o(7185),g=o(8634),c=o(6895),l=o(9549),d=o(4144),p=o(4859),h=o(9383);function f(a,e){1&a&&(t.TgZ(0,"h2",12),t._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0646\u0648\u0639 \u0627\u0644\u062e\u062f\u0645\u0629"),t.qZA())}function v(a,e){1&a&&(t.TgZ(0,"h2",12),t._uU(1,"\u0627\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u062e\u062f\u0645\u0629 \u062c\u062f\u064a\u062f"),t.qZA())}function T(a,e){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}class n{constructor(e,i,s,E,D){this.matDialogRef=e,this.data=i,this.fb=s,this.toastr=E,this._serviceType=D,this.subscriptions=[],this.isSubmitting=!1,this.onNoClick=()=>this.matDialogRef.close(),this.ngOnDestroy=()=>this.subscriptions.forEach(b=>b.unsubscribe()),this.Form=this.fb.group({id:[null],name:["",[r.kI.required,r.kI.maxLength(100)]]})}get id(){return this.Form.get("id")}get name(){return this.Form.get("name")}ngOnInit(){this.data&&this.Form.patchValue(this.data)}handleSubmit(){this.Form.valid&&(this.id.value?this.update():this.add())}update(){this.subscriptions.push(this._serviceType.update(this.id.value,this.Form.value).subscribe({next:e=>{this.isSubmitting=!0,this._serviceType.dialogData=e.body,this.matDialogRef.close({data:e})},error:e=>{this.isSubmitting=!1,this.toastr.error((e.error??e).message)},complete:()=>{this.isSubmitting=!1}}))}add(){this.subscriptions.push(this._serviceType.add(this.Form.value).subscribe({next:e=>{this.isSubmitting=!0,this._serviceType.dialogData=e.body,this.matDialogRef.close({data:e})},error:e=>{this.isSubmitting=!1,this.toastr.error((e.error??e).message)},complete:()=>{this.isSubmitting=!1}}))}}n.\u0275fac=function(e){return new(e||n)(t.Y36(u.so),t.Y36(u.WI),t.Y36(r.qu),t.Y36(_._W),t.Y36(g.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-type-form-dialog"]],decls:20,vars:11,consts:[[1,"container"],["class","w-100 text-center mt-3",4,"ngIf","ngIfElse"],["update",""],[1,"d-flex","flex-column","mat-dialog-content",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["color","warn",1,"w-100"],["matInput","","formControlName","name"],[4,"ngIf"],[1,"my-2","d-flex","flex-row-reverse"],["mat-raised-button","","color","warn",1,"mx-2","px-4",3,"disabled"],["type","button","mat-stroked-button","","color","warn",3,"click"],[1,"w-100","text-center","mt-3"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,f,2,0,"h2",1),t.YNc(2,v,2,0,"ng-template",null,2,t.W1O),t.TgZ(4,"mat-dialog-content")(5,"form",3),t.NdJ("ngSubmit",function(){return i.handleSubmit()}),t.TgZ(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"\u0627\u0644\u0623\u0633\u0645"),t.qZA(),t._UZ(11,"input",7),t.YNc(12,T,4,0,"mat-error",8),t.qZA()()(),t.TgZ(13,"div",9)(14,"button",10),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"button",11),t.NdJ("click",function(){return i.onNoClick()}),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()()),2&e){const s=t.MAs(3);t.xp6(1),t.Q6J("ngIf",i.data)("ngIfElse",s),t.xp6(4),t.Q6J("formGroup",i.Form),t.xp6(7),t.Q6J("ngIf",null==i.name.errors?null:i.name.errors.required),t.xp6(2),t.Q6J("disabled",!i.Form.valid||i.isSubmitting),t.xp6(1),t.Oqu(i.isSubmitting?"button.wait":t.lcZ(16,7,"button.save")),t.xp6(3),t.Oqu(t.lcZ(19,9,"button.back"))}},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,c.O5,u.xY,l.KE,l.hX,l.TO,d.Nt,p.lW,h.X$],styles:[".container[_ngcontent-%COMP%]{min-width:450px}"]})}}]);