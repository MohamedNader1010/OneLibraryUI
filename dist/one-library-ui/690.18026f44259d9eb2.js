"use strict";(self.webpackChunkOneLibraryUI=self.webpackChunkOneLibraryUI||[]).push([[690],{8690:(ne,T,l)=>{l.r(T),l.d(T,{NoteFormDialogComponent:()=>v});var s=l(4006),b=l(8675),I=l(9300),N=l(3900),P=l(4128),x=l(4004),C=l(5412),S=l(5285),y=l(529),e=l(4650),U=l(4467),O=l(9648),q=l(8653),w=l(7843),Z=l(7185),J=l(9383),_=l(6895),E=l(5810),M=l(5861),F=l(7392),Q=l(3162),D=l(4859);class f{constructor(i,t){this.el=i,this.renderer=t,this.fileDropped=new e.vpe}onDragOver(i){i.preventDefault(),i.stopPropagation(),this.renderer.addClass(this.el.nativeElement.children[1],"fileover")}onDragLeave(i){i.preventDefault(),i.stopPropagation(),this.renderer.removeClass(this.el.nativeElement.children[1],"fileover")}ondrop(i){i.preventDefault(),i.stopPropagation(),this.renderer.removeClass(this.el.nativeElement.children[1],"fileover");let n=i.dataTransfer.files[0];n&&this.fileDropped.emit(n)}}f.\u0275fac=function(i){return new(i||f)(e.Y36(e.SBq),e.Y36(e.Qsj))},f.\u0275dir=e.lG2({type:f,selectors:[["","appDragAndDrop",""]],hostBindings:function(i,t){1&i&&e.NdJ("dragover",function(r){return t.onDragOver(r)})("dragleave",function(r){return t.onDragLeave(r)})("drop",function(r){return t.ondrop(r)})},outputs:{fileDropped:"fileDropped"}});const Y=["fileDropRef"];function B(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h4",5)(5,"mat-icon",6),e._uU(6," picture_as_pdf "),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"div")(9,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteFile())}),e.TgZ(10,"mat-icon"),e._uU(11,"delete"),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.hij(" ",t.fileName," ")}}function V(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("fileDropped",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.onFileDropped(r))}),e.TgZ(1,"input",11,12),e.NdJ("change",function(r){e.CHM(t);const u=e.oxw(2);return e.KtG(u.fileBrowseHandler(r))}),e.qZA(),e.TgZ(3,"mat-icon",13),e._uU(4,"folder"),e.qZA(),e.TgZ(5,"h3"),e._uU(6,"\u0623\u0633\u062d\u0628 \u0627\u0644\u0645\u0644\u0641 \u0647\u0646\u0627, \u0623\u0648 \u0623\u0636\u063a\u0637 \u0644\u0623\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0644\u0641"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u064a\u062c\u0628 \u0627\u0646 \u062a\u0643\u0648\u0646 \u0635\u064a\u063a\u0629 \u0627\u0644\u0645\u0644\u0641 "),e.TgZ(9,"strong"),e._uU(10,"PDF"),e.qZA()()()}}function k(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div")(3,"h4",5)(4,"mat-icon",6),e._uU(5," picture_as_pdf "),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"p",14),e._uU(8),e.qZA()(),e.TgZ(9,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteFile())}),e.TgZ(10,"mat-icon"),e._uU(11,"delete"),e.qZA()()(),e.TgZ(12,"div",16)(13,"div",17),e._UZ(14,"mat-progress-bar",18),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.file.name," "),e.xp6(2),e.Oqu(t.formatBytes(t.file.size)),e.xp6(6),e.Q6J("value",t.progress)}}function H(o,i){if(1&o&&(e.YNc(0,V,11,0,"div",8),e.TgZ(1,"div",2),e.YNc(2,k,15,3,"div",9),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngIf",!t.file),e.xp6(2),e.Q6J("ngIf",t.file)}}class h{constructor(i){this.toastr=i,this.subscriptions=[],this.progress=0,this.selectedFile=new e.vpe,this.fileName=null,this.onFileDropped=t=>this.prepareFilesList(t),this.fileBrowseHandler=t=>this.prepareFilesList(t.target.files[0]),this.deleteFile=()=>{this.file=null,this.fileName=null,this.selectedFile.emit(null),this.progress=0},this.handleUpload=t=>{this.file=t,this.selectedFile.emit(this.file)}}ngOnInit(){}prepareFilesList(i){var t=this;return(0,M.Z)(function*(){i.size>5242880?t.toastr.error("file size exceeded the accepted file size ,please select smaller file","too larg document"):(t.handleUpload(i),t.fileDropElment.nativeElement.value="")})()}formatBytes(i,t=2){if(0===i)return"0 Bytes";const r=t<=0?0:t,m=Math.floor(Math.log(i)/Math.log(1024));return parseFloat((i/Math.pow(1024,m)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][m]}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}}h.\u0275fac=function(i){return new(i||h)(e.Y36(Z._W))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-drag-and-drop"]],viewQuery:function(i,t){if(1&i&&e.Gf(Y,5),2&i){let n;e.iGM(n=e.CRH())&&(t.fileDropElment=n.first)}},inputs:{progress:"progress",fileName:"fileName"},outputs:{selectedFile:"selectedFile"},decls:3,vars:2,consts:[["class","mt-2",4,"ngIf","ngIfElse"],["upload",""],[1,"mt-2"],[1,"single-file"],[1,"d-flex","align-items-center","justify-content-between"],[1,"name"],["color","warn",1,"align-middle"],["mat-icon-button","","color","warn","aria-label","remove file","matTooltip","delete note",1,"formDocBtn",3,"click"],["class","wrapper","appDragAndDrop","",3,"fileDropped",4,"ngIf"],["class","single-file",4,"ngIf"],["appDragAndDrop","",1,"wrapper",3,"fileDropped"],["type","file","accept",".pdf","id","fileDropRef",3,"change"],["fileDropRef",""],["color","warn","shake",""],[1,"size"],["mat-icon-button","","color","warn","aria-label","remove file",1,"delete",3,"click"],[1,"row"],[1,"col-12"],["mode","determinate","color","warn",3,"value"]],template:function(i,t){if(1&i&&(e.YNc(0,B,12,1,"div",0),e.YNc(1,H,3,2,"ng-template",null,1,e.W1O)),2&i){const n=e.MAs(2);e.Q6J("ngIf",t.fileName)("ngIfElse",n)}},dependencies:[_.O5,F.Hw,Q.pW,D.RK,f],styles:[".wrapper[_ngcontent-%COMP%]{padding:2rem;text-align:center;border:dashed 1px #979797;position:relative;margin:0 auto}.wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0;cursor:pointer}.wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.single-file[_ngcontent-%COMP%]{display:flex;padding:.5rem;justify-content:space-between;border:dashed 1px #979797;margin-bottom:1rem;flex-grow:1;flex-direction:column}.size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0;margin-bottom:.25rem}.name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.formDocBtn[_ngcontent-%COMP%]{cursor:pointer;align-self:flex-end}.fileover[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake 1s;animation-iteration-count:infinite}@keyframes _ngcontent-%COMP%_shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}.progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont.progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:.5s all}"]});var A=l(9549),G=l(4144),z=l(4385),K=l(3238);function L(o,i){1&o&&(e.TgZ(0,"h2",29),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0630\u0643\u0631\u0629"),e.qZA())}function R(o,i){1&o&&(e.TgZ(0,"h2",29),e._uU(1,"\u0645\u0630\u0643\u0631\u0629 \u062c\u062f\u064a\u062f\u0629"),e.qZA())}function W(o,i){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function j(o,i){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function $(o,i){if(1&o&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function X(o,i){if(1&o&&(e.TgZ(0,"mat-form-field",36)(1,"mat-label"),e._uU(2,"\u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA(),e.TgZ(3,"mat-select",39),e.YNc(4,$,2,2,"mat-option",9),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",t.getPricedServicesForSelectedClientType(t.clientTypeId.value))}}function ee(o,i){1&o&&(e.TgZ(0,"mat-form-field",36)(1,"mat-label"),e._uU(2,"\u0627\u0644\u062e\u062f\u0645\u0627\u062a"),e.qZA(),e._UZ(3,"input",40),e.qZA())}function te(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",4),e.ynx(1,33),e.TgZ(2,"div",11),e.YNc(3,X,5,1,"mat-form-field",34),e.YNc(4,ee,4,0,"ng-template",null,35,e.W1O),e.qZA(),e.TgZ(6,"div",14)(7,"mat-form-field",36)(8,"mat-label"),e._uU(9,"\u0627\u0644\u0633\u0639\u0631"),e.qZA(),e._UZ(10,"input",37),e.qZA()(),e.TgZ(11,"div",16)(12,"mat-form-field",36)(13,"mat-label"),e._uU(14,"\u0627\u0644\u0643\u0645\u064a\u0629"),e.qZA(),e._UZ(15,"input",17),e.qZA()(),e.TgZ(16,"div",18)(17,"button",38),e.NdJ("click",function(){const u=e.CHM(t).index,m=e.oxw(2);return e.KtG(m.handleDeleteNoteComponent(u))}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA()()(),e.BQk(),e.qZA()}if(2&o){const t=i.$implicit,n=i.index,r=e.MAs(5);e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("ngIf",!t.value.id)("ngIfElse",r)}}function ie(o,i){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,te,20,3,"div",32),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.noteComponents.controls)}}class v extends S.r{constructor(i,t,n,r,u,m,g,p,d){super(g,d,i,m),this._note=i,this.fb=t,this._client=n,this._clientType=r,this._service=u,this.data=p,this.TermsDataSource=[],this.StagesDataSource=[],this.ServicesDataSource=[],this.ClientsDataSource=[],this.ClientTypesDataSource=[],this.deletedComponents=[],this.progress=0,this.formData=new FormData,this.getNoteComponentId=a=>this.noteComponents.at(a).get("id"),this.getNoteComponentServiceId=a=>this.noteComponents.at(a).get("serviceId"),this.servicePriceFormControl=a=>this.noteComponents.at(a).get("price"),this.serviceOriginalPriceFormControl=a=>this.noteComponents.at(a).get("originalPrice"),this.serviceQuantityFormControl=a=>this.noteComponents.at(a).get("quantity"),this.getServiceName=a=>this.noteComponents.at(a).get("service"),this.getPricedServicesForSelectedClientType=a=>this.ServicesDataSource.filter(c=>c.servicePricePerClientTypes.some(oe=>oe.clientTypeId===a)),this.getServicePriceForClientType=a=>+(this.ServicesDataSource.find(c=>c.id===a)?.servicePricePerClientTypes.find(c=>c.clientTypeId===this.data.clientTypeId)?.price??0),this.getServiceOriginalPriceForClientType=a=>+(this.ServicesDataSource.find(c=>c.id===a)?.servicePricePerClientTypes.find(c=>c.clientTypeId===this.data.clientTypeId)?.originalPrice??0),this.setClientTypeId=a=>this.clientTypeId.setValue(a),this.setClientId=a=>this.clientId.setValue(a),this.patchData=()=>{this.data.noteComponents.forEach((a,c)=>{this.handleNewNoteComponent(),this.servicePriceFormControl(c).setValue(this.getServicePriceForClientType(a.serviceId),{emitEvent:!1}),this.serviceOriginalPriceFormControl(c).setValue(this.getServiceOriginalPriceForClientType(a.serviceId),{emitEvent:!1})}),this.Form.patchValue(this.data,{emitEvent:!1})},this.handleNewNoteComponent=()=>{this.noteComponents.push(this.createFormItem("noteComponent"))},this.handleDeleteNoteComponent=a=>{this.data&&this.deletedComponents.push(this.getNoteComponentId(a).value),this.noteComponents.removeAt(a)},this.getSelectedFiles=a=>{if(a)return"application/pdf"!==a.type?(this.toastr.error("\u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0635\u064a\u063a\u0629 \u0627\u0644\u0645\u0644\u0641 PDF"),void this.fileName.setValue(null)):void(this.selectedFile=a);this.fileName.setValue(null)},this.Form=this.createFormItem("init")}get id(){return this.Form.get("id")}get noteComponents(){return this.Form.get("noteComponents")}get clientTypeId(){return this.Form.get("clientTypeId")}get clientId(){return this.Form.get("clientId")}get originalPrice(){return this.Form.get("originalPrice")}get teacherPrice(){return this.Form.get("teacherPrice")}get actualPrice(){return this.Form.get("actualPrice")}get earning(){return this.Form.get("earning")}get finalPrice(){return this.Form.get("finalPrice")}get fileName(){return this.Form.get("fileName")}ngOnInit(){this.matDialogRef.disableClose=!0,this.forkJoins()}subscribeFormMoneyChanges(){this.Form.valueChanges.subscribe(i=>{let n=0,r=0;i.noteComponents.forEach((g,p)=>{this.serviceOriginalPriceFormControl(p).setValue(+(this.ServicesDataSource.find(d=>d.id===g.serviceId)?.servicePricePerClientTypes.find(d=>d.clientTypeId==this.clientTypeId.value)?.originalPrice??0),{emitEvent:!1}),this.servicePriceFormControl(p).setValue(+(this.ServicesDataSource.find(d=>d.id===g.serviceId)?.servicePricePerClientTypes.find(d=>d.clientTypeId==this.clientTypeId.value)?.price??0),{emitEvent:!1}),n+=+this.serviceOriginalPriceFormControl(p).value*+this.serviceQuantityFormControl(p).value,r+=+this.servicePriceFormControl(p).value*+this.serviceQuantityFormControl(p).value});const u=+r-+n,m=+r+ +this.teacherPrice.value;this.originalPrice.setValue(n,{emitEvent:!1}),this.actualPrice.setValue(r,{emitEvent:!1}),this.earning.setValue(u,{emitEvent:!1}),this.finalPrice.setValue(m,{emitEvent:!1})})}subscribeClientTypeChange(){this.subscriptions.push(this.clientTypeId.valueChanges.pipe((0,b.O)(this.clientTypeId.value),(0,I.h)(i=>!!i),(0,N.w)(i=>this._client.getAllByType(i))).subscribe({next:i=>{this.ClientsDataSource=i.body},error:i=>{this.ClientsDataSource=[],this.clientId.reset(),this.isSubmitting=!1,this.toastr.error((i.error??i).message)}}))}forkJoins(){let i=[this._note.getStages(),this._note.getTerms(),this._clientType.getAll(),this._service.GetAllPriced()];return(0,P.D)(i).pipe((0,x.U)(([t,n,r,u])=>({stages:t,terms:n,clientsType:r,services:u}))).subscribe({next:t=>{this.TermsDataSource=t.terms.body,this.TermsDataSource.unshift({id:null,name:"\u0628\u062f\u0648\u0646"}),this.StagesDataSource=t.stages.body,this.StagesDataSource.unshift({id:null,name:"\u0628\u062f\u0648\u0646"}),this.ServicesDataSource=t.services.body,this.ClientTypesDataSource=t.clientsType.body.filter(u=>this.ServicesDataSource.some(m=>m.servicePricePerClientTypes.some(g=>g.clientTypeId===u.id)))},error:t=>{this.isSubmitting=!1,this.toastr.error((t.error??t).message)},complete:()=>{this.data&&this.patchData(),this.subscribeClientTypeChange(),this.subscribeFormMoneyChanges()}})}createFormItem(i){let t=this.fb.group({});switch(i){case"init":t=this.fb.group({id:[0],name:["",[s.kI.required]],termId:[null],stageId:[null],clientTypeId:[null],clientId:[null,[s.kI.required]],noteComponents:this.fb.array([],s.kI.minLength(1)),quantity:[0],originalPrice:[0],actualPrice:[0],earning:[0],teacherPrice:[0,[s.kI.required,s.kI.min(0)]],finalPrice:[0],fileName:[null]});break;case"noteComponent":t=this.fb.group({id:[0],noteId:[this.id.value],serviceId:[null,[s.kI.required]],service:[""],quantity:[1,[s.kI.required,s.kI.min(1)]],price:[0],originalPrice:[0]})}return t}resetFormMoney(){this.originalPrice.setValue(0,{emitEvent:!1}),this.actualPrice.setValue(0,{emitEvent:!1}),this.earning.setValue(0,{emitEvent:!1}),this.finalPrice.setValue(0,{emitEvent:!1})}handleSubmit(){this.Form.valid&&(this.isSubmitting=!0,this.subscriptions.push(this.id.value?this._note.deleteNoteComponents(this.deletedComponents).subscribe({error:i=>{this.isSubmitting=!1,this.toastr.error((i.error??i).message)},complete:()=>{this.subscriptions.push(this._note.updateFormData(this.id.value,this.Form.value,this.selectedFile,"pdf").subscribe(this.addAndUpdateFormDataObserver()))}}):this._note.addFormData(this.Form.value,this.selectedFile,"pdf").subscribe(this.addAndUpdateFormDataObserver())))}addAndUpdateFormDataObserver(){return{next:i=>{i.type===y.dt.UploadProgress?this.progress=Math.round(i.loaded/(i.total??1)*100):i.type===y.dt.Response&&(this.service.dialogData=i.body.body,this.matDialogRef.close({data:i.body}))},error:i=>{this.isSubmitting=!1,this.toastr.error((i.error??i).message)},complete:()=>{this.isSubmitting=!1}}}}v.\u0275fac=function(i){return new(i||v)(e.Y36(U.Y),e.Y36(s.qu),e.Y36(O.y),e.Y36(q.q),e.Y36(w.r),e.Y36(Z._W),e.Y36(C.so),e.Y36(C.WI),e.Y36(J.sK))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-note-form-dialog"]],features:[e.qOj],decls:68,vars:19,consts:[[1,"container","w-100"],["class","w-100 text-center mt-3",4,"ngIf","ngIfElse"],["update",""],[1,"d-flex","flex-column",3,"formGroup"],[1,"row"],["label","\u0646\u0648\u0639 \u0627\u0644\u0639\u0645\u064a\u0644",1,"col-3",3,"dataSource","selectedValue","selectedId"],["label","\u0623\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644",1,"col-3",3,"dataSource","selectedValue","selectedId"],["color","warn","appearance","fill",1,"col-3"],["formControlName","stageId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","termId"],[1,"col-6"],["color","warn",1,"w-100"],["type","text","matInput","","formControlName","name"],[1,"col-3"],["type","number","min","0","matInput","","formControlName","teacherPrice"],[1,"col-2"],["type","number","min","0","matInput","","formControlName","quantity"],[1,"col-1"],["type","button","mat-icon-button","","matTooltip","add","color","basic","aria-label","add note component row",3,"disabled","click"],["formArrayName","noteComponents",4,"ngIf"],["type","number","matInput","","formControlName","actualPrice",3,"readonly"],["type","number","matInput","","formControlName","originalPrice",3,"readonly"],["type","number","matInput","","formControlName","earning",3,"readonly"],["type","number","matInput","","formControlName","finalPrice",3,"readonly"],[3,"fileName","progress","selectedFile"],["mat-dialog-actions","",1,"my-2","d-flex","flex-row-reverse"],["mat-raised-button","","type","submit","color","warn",1,"mx-2","px-4",3,"disabled","click"],["type","button","mat-stroked-button","","color","warn","tabindex","-1",3,"click"],[1,"w-100","text-center","mt-3"],[3,"value"],["formArrayName","noteComponents"],["class","row",4,"ngFor","ngForOf"],[3,"formGroupName"],["color","warn","appearance","fill","class","w-100",4,"ngIf","ngIfElse"],["disabled",""],["color","warn","appearance","fill",1,"w-100"],["type","number","matInput","","formControlName","price","readonly","true"],["type","button","mat-icon-button","","matTooltip","delete","color","warn","aria-label","delete selected row",3,"click"],["formControlName","serviceId"],["type","text","matInput","","formControlName","service","readonly","true"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,L,2,0,"h2",1),e.YNc(2,R,2,0,"ng-template",null,2,e.W1O),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"autocomplete",5),e.NdJ("selectedId",function(r){return t.setClientTypeId(r)}),e.qZA(),e.TgZ(8,"autocomplete",6),e.NdJ("selectedId",function(r){return t.setClientId(r)}),e.qZA(),e.TgZ(9,"mat-form-field",7)(10,"mat-label"),e._uU(11,"\u0627\u0644\u0645\u0631\u062d\u0644\u0629"),e.qZA(),e.TgZ(12,"mat-select",8),e.YNc(13,W,2,2,"mat-option",9),e.qZA()(),e.TgZ(14,"mat-form-field",7)(15,"mat-label"),e._uU(16,"\u0627\u0644\u062a\u0631\u0645"),e.qZA(),e.TgZ(17,"mat-select",10),e.YNc(18,j,2,2,"mat-option",9),e.qZA()()(),e.TgZ(19,"div",4)(20,"div",11)(21,"mat-form-field",12)(22,"mat-label"),e._uU(23,"\u0623\u0633\u0645 \u0627\u0644\u0645\u0630\u0643\u0631\u0629"),e.qZA(),e._UZ(24,"input",13),e.qZA()(),e.TgZ(25,"div",14)(26,"mat-form-field",12)(27,"mat-label"),e._uU(28,"\u0647\u0627\u0645\u0634 \u0631\u0628\u062d \u0627\u0644\u0645\u062f\u0631\u0633"),e.qZA(),e._UZ(29,"input",15),e.qZA()(),e.TgZ(30,"div",16)(31,"mat-form-field",12)(32,"mat-label"),e._uU(33,"\u0627\u0644\u0643\u0645\u064a\u0629"),e.qZA(),e._UZ(34,"input",17),e.qZA()(),e.TgZ(35,"div",18)(36,"button",19),e.NdJ("click",function(){return t.handleNewNoteComponent()}),e.TgZ(37,"mat-icon"),e._uU(38,"add"),e.qZA()()()(),e.YNc(39,ie,2,1,"div",20),e.TgZ(40,"div",4)(41,"div",14)(42,"mat-form-field",12)(43,"mat-label"),e._uU(44,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0641\u0639\u0644\u064a"),e.qZA(),e._UZ(45,"input",21),e.qZA()(),e.TgZ(46,"div",14)(47,"mat-form-field",12)(48,"mat-label"),e._uU(49,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"),e.qZA(),e._UZ(50,"input",22),e.qZA()(),e.TgZ(51,"div",14)(52,"mat-form-field",12)(53,"mat-label"),e._uU(54,"\u0647\u0627\u0645\u0634 \u0627\u0644\u0631\u0628\u062d"),e.qZA(),e._UZ(55,"input",23),e.qZA()(),e.TgZ(56,"div",14)(57,"mat-form-field",12)(58,"mat-label"),e._uU(59,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0646\u0647\u0627\u0626\u064a"),e.qZA(),e._UZ(60,"input",24),e.qZA()()(),e.TgZ(61,"div",4)(62,"app-drag-and-drop",25),e.NdJ("selectedFile",function(r){return t.getSelectedFiles(r)}),e.qZA()()()(),e.TgZ(63,"div",26)(64,"button",27),e.NdJ("click",function(){return t.handleSubmit()}),e._uU(65),e.qZA(),e.TgZ(66,"button",28),e.NdJ("click",function(){return t.onNoClick()}),e._uU(67,"\u0625\u0644\u063a\u0627\u0621"),e.qZA()()()),2&i){const n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.id.value)("ngIfElse",n),e.xp6(4),e.Q6J("formGroup",t.Form),e.xp6(2),e.Q6J("dataSource",t.ClientTypesDataSource)("selectedValue",t.clientTypeId.value),e.xp6(1),e.Q6J("dataSource",t.ClientsDataSource)("selectedValue",t.clientId.value),e.xp6(5),e.Q6J("ngForOf",t.StagesDataSource),e.xp6(5),e.Q6J("ngForOf",t.TermsDataSource),e.xp6(18),e.Q6J("disabled",!t.clientId.value||t.clientId.invalid),e.xp6(3),e.Q6J("ngIf",t.noteComponents.controls.length),e.xp6(6),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(5),e.Q6J("readonly",!0),e.xp6(2),e.Q6J("fileName",t.fileName.value)("progress",t.progress),e.xp6(2),e.Q6J("disabled",!t.Form.valid||t.isSubmitting),e.xp6(1),e.Oqu(t.isSubmitting?"\u0627\u0646\u062a\u0638\u0631 \u0645\u0646 \u0641\u0636\u0644\u0643":"\u062d\u0641\u0638")}},dependencies:[s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.sg,s.u,s.x0,s.CE,_.sg,_.O5,E.Y,h,C.xY,C.H8,A.KE,A.hX,F.Hw,G.Nt,z.gD,K.ey,D.lW,D.RK],styles:[".container[_ngcontent-%COMP%]{width:1000px}"]})}}]);